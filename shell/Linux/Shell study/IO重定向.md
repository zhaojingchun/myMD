



[Linux I/O重定向的一些小技巧](https://www.ibm.com/developerworks/cn/linux/l-iotips/index.html)

**文件标识符：**文件标识符是一个数字，不同数字代表不同含义，默认情况下，系统占用3个，分别是**0**标准输入（stdin），**1**标准输出（stdout),**2**标准错误（stderr），另外3-9是保留的标识符。

**标准输入**：通常指键盘的输入

**标准输出**：通常指显示器的输出

**标准错误**：通常也是定向到显示器

请看以下例子，来描述一下他们的关系

```shell
#ls /dev
```

这个命令列出/dev目录下的所有文件，在屏幕上输出结果。

这里 /dev 就是作为命令ls的标准输入（从键盘输入），而打印在屏幕的结果就是标准输出（/dev目录中的内容）

**重定向**:就是把标准的输入或者输出更改成其他的方式，请参看如下例子 
或者等同于

```shell
#ls /dev 1>filename                                  #注意："1"和">"中间没有空格
```

以上命令会把命令的标准输出重新定向到一个文件filename,而不是显示到屏幕上，如果不指明文件标识符，系统默认的就是1, 因此1可以省略

如果把上面例子重的**">"**改成**">>"**则表示把输出追加到filename文件的末尾，如果文件不存在则创建它。如下

```shell
#ls /dev >>filename
```

也可以把标准错误重新定向到文件

```shell
#ls -qw  /dev  2>filename
```

显然 -qw是一个错误参数，通常会在显示器上报告一个错误信息，但由于把2标准错误（stderr）重新定向到了文件filename，因此显示器没有错误信息，而信息写到了文件里面

以下命令是把标准输出和错误都定向到文件

```shell
#ls /dev &>filename
```

**"&"**在这里代表标准输出和标准错误，这里无论是正常输出还是错误信息都写到filename中了。

| 命令            | 说明                                               |
| --------------- | :------------------------------------------------- |
| command > file  | 将输出重定向到 file。                              |
| command < file  | 将输入重定向到 file。                              |
| command >> file | 将输出以追加的方式重定向到 file。                  |
| n > file        | 将文件描述符为 n 的文件重定向到 file。             |
| n >> file       | 将文件描述符为 n 的文件以追加的方式重定向到 file。 |
| n >& m          | 将输出文件 m 和 n 合并。                           |
| n <& m          | 将输入文件 m 和 n 合并。                           |
| << tag          | 将开始标记 tag 和结束标记 tag 之间的内容作为输入。 |

**输入重定向**：和输出重定向一样，Unix 命令也可以从文件获取输入，语法为：

```shell
command1 < file1
```

这样，本来需要从键盘获取输入的命令会转移到文件读取内容。

**/dev/null 文件** 类似垃圾桶

如果希望执行某个命令，但又不希望在屏幕上显示输出结果，那么可以将输出重定向到 /dev/null：

```shell
$ command > /dev/null
```

/dev/null 是一个特殊的文件，写入到它的内容都会被丢弃；如果尝试从该文件读取内容，那么什么也读不到。但是 /dev/null 文件非常有用，将命令的输出重定向到它，会起到"禁止输出"的效果。















